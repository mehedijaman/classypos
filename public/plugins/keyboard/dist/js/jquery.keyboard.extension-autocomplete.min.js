/*! jQuery UI Virtual Keyboard Autocomplete v1.11.3 */
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&"object"==typeof module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";e.fn.addAutocomplete=function(t){var o={position:{of:null,my:"right top",at:"left top",collision:"flip"},events:"autocomplete",data:""};return this.each(function(){var a,l,n=e(this).data("keyboard");n&&(l=n.namespace+"Autocomplete",n.autocomplete_namespace=l,n.extensionNamespace.push(l),n.autocomplete_init=function(){var u=(a=n.autocomplete_options=e.extend(!0,{},o,t)).events||a.data||"autocomplete";n.options.alwaysOpen&&n.isVisible()&&n.autocomplete_setup(),n.$el.unbind(l).bind(e.keyboard.events.kbVisible+l,function(){n.autocomplete_setup()}).bind(e.keyboard.events.kbHidden+l,function(){n.$el[a.data||"autocomplete"]("close")}).bind(e.keyboard.events.kbChange+l,function(){n.hasAutocomplete&&n.isVisible()&&n.$el.val(n.$preview.val())}).bind(u+"open"+l,function(){if(n.hasAutocomplete){var t=e.extend({},a.position);t.of=t.of||n.$keyboard,n.$autocomplete.menu.element.position(t)}}).bind(u+"select"+l,function(e,t){n.autocomplete_getVal(t.item)})},n.autocomplete_getVal=function(e){var t;switch(typeof e){case"string":t=e||"";break;case"object":t=e.label||e.value||"";break;default:t=n.preview&&n.preview.value||n.el.value}t=t.toString(),n.hasAutocomplete&&""!==t&&((n.$preview||n.$el).val(t).focus(),n.last.start=t.length,n.last.end=t.length,n.last.val=t)},n.autocomplete_update=function(e){clearTimeout(n.$autocomplete.searching),n.$autocomplete.searching=setTimeout(function(){n.$autocomplete.term!==n.$autocomplete.element.val()&&(n.$autocomplete.selectedItem=null,n.$autocomplete.search(null,e))},n.$autocomplete.options.delay)},n.autocomplete_navKeys={8:"backSpace",9:"tab",13:"enter",20:"capsLock",27:"escape",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"},n.autocomplete_setup=function(){var e;if(n.$autocomplete=n.$el.data(n.autocomplete_options.data)||n.$el.data("uiAutocomplete")||n.$el.data("ui-autocomplete")||n.$el.data("autocomplete"),n.hasAutocomplete=void 0!==n.$autocomplete&&!n.$autocomplete.options.disabled,n.hasAutocomplete){n.$preview.bind("keydown"+l+" keypress"+l,function(t){n.$preview&&t.namespace!==n.$autocomplete.eventNamespace&&(t.namespace=n.$autocomplete.eventNamespace.slice(1),(e=n.autocomplete_navKeys[t.which])?n.el!==n.preview&&(n.$el.triggerHandler(t),"enter"===e&&setTimeout(function(){n.$preview.val(n.$autocomplete.selectedItem.value),n.$preview.focus()},100)):n.autocomplete_update(t))});var t="mouseup mousedown mouseleave touchstart touchend touchcancel ".split(" ").join(l+" ");n.$allKeys.bind(t,function(e){n.autocomplete_update(e)})}},n.origEscClose=n.escClose,n.escClose=function(t){n.hasAutocomplete&&("ui-active-menuitem"===t.target.id||e(t.target).closest("ul").hasClass("ui-autocomplete"))||n.origEscClose(t)},n.autocomplete_init())})}});